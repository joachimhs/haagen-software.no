/*! hs 31-10-2014 */
var EF=Ember.Application.create({});DS.RESTAdapter.reopen({namespace:"json/data"}),EF.Adapter=DS.RESTAdapter.extend(),EF.Store=DS.Store.extend({adapter:"Scene.Adapter"}),Ember.Inflector.inflector.irregular("productCategory","productCategories"),EF.ApplicationController=Ember.Controller.extend({init:function(){this._super(),Ember.run.schedule("afterRender",this,function(){console.log("initializing Stellar.js!"),$.stellar()}),console.log("applicationController is initialized!")}}),EF.BlogRoute=Ember.Route.extend({model:function(){return this.store.find("post")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/blog/"),document.title="Blog -  Haagen Software"}}),EF.BlogPostRoute=Ember.Route.extend({model:function(a){return this.store.find("post",a.post_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/blog/"+b.get("id")),document.title=b.get("title")+" - Haagen Software"}}),EF.HeaderController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0,init:function(){this._super();var a=[];this.store.find("page").then(function(b){b.forEach(function(b){var c=b.get("topMenu");c&&a.pushObject(b)})});var b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:this.sortProperties});this.set("content",b)}}),EF.HeaderView=Ember.View.extend({topPositionToShowFloat:380,didInsertElement:function(){console.log("HEADER VIEW"),view=this,setTimeout(function(){view.detectScroll(),$(window).scroll(function(){view.detectScroll()})},1e3)},detectScroll:function(){$(window).scrollTop()>view.get("topPositionToShowFloat")?view.set("isFloating",!0):view.set("isFloating",!1)},isFloatingObserver:function(){var a=this;Ember.run.scheduleOnce("afterRender",function(){console.log("isFloatingChanged: "+a.get("isFloating")),a.get("isFloating")?($("#headerLinkDiv").addClass("floatingTop"),$("#logoImage").addClass("hidden"),$("#logoImageSmall").removeClass("hidden"),$("#headerLinkContainer").removeClass("pull-right"),$("#logoCols").removeClass("col-md-12"),$("#logoCols").addClass("col-md-3"),$("#linkCols").removeClass("col-md-12"),$("#linkCols").addClass("col-md-9"),$("#logoCols").removeClass("col-sm-12"),$("#logoCols").addClass("col-sm-3"),$("#linkCols").removeClass("col-sm-12"),$("#linkCols").addClass("col-sm-9"),$("#headerLinkDiv").animate({top:"0px"},500,function(){$(".headerLink").animate({"margin-right":"25px"},200),$("#headerLinkContainer").animate({"margin-left":"-65px"},200,function(){$("#logoImageSmall").animate({"margin-top":"0px"},500)})})):$("#headerLinkDiv").animate({top:"-80px"},250,function(){$("#headerLinkDiv").removeClass("floatingTop"),$("#logoImage").removeClass("hidden"),$("#logoImageSmall").addClass("hidden"),$("#logoCols").removeClass("col-md-3"),$("#logoCols").addClass("col-md-12"),$("#linkCols").removeClass("col-md-9"),$("#linkCols").addClass("col-md-12"),$("#logoCols").removeClass("col-sm-3"),$("#logoCols").addClass("col-sm-12"),$("#linkCols").removeClass("col-sm-9"),$("#linkCols").addClass("col-sm-12"),$("#headerLinkContainer").addClass("pull-right"),$(".headerLink").animate({"margin-right":"5px"},0),$("#headerLinkContainer").animate({"margin-left":"0px"},0),$("#logoImageSmall").animate({"margin-top":"-100px"},0)})})}.observes("isFloating")}),Ember.Handlebars.registerBoundHelper("markdown",function(a){return a?new Handlebars.SafeString(Markdown(a)):void 0}),EF.ResetScroll=Ember.Mixin.create({activate:function(){this._super();var a=$("html, body");a.animate({scrollTop:450},"500","swing",function(){}),setTimeout(function(){Ember.run.schedule("afterRender",this,function(){console.log("initializing Stellar.js!"),$.stellar()})},1e3)},deactivate:function(){this._super();var a=$("html, body");a.animate({scrollTop:450},"500","swing",function(){}),setTimeout(function(){Ember.run.schedule("afterRender",this,function(){console.log("initializing Stellar.js!"),$.stellar()})},1e3)}}),EF.Page=DS.Model.extend({title:DS.attr("string"),route:DS.attr("string"),sortIndex:DS.attr("number"),topMenu:DS.attr("boolean"),content:DS.attr("string")}),EF.Post=DS.Model.extend({content:DS.attr("string"),tags:DS.attr("raw"),title:DS.attr("string"),publishDate:DS.attr("date"),intro:DS.attr("string")}),EF.Product=DS.Model.extend({name:DS.attr("string"),content:DS.attr("string"),intro:DS.attr("string"),sortIndex:DS.attr("number"),cover:DS.attr("string"),largeImg:DS.attr("string")}),EF.Project=DS.Model.extend({name:DS.attr("string"),content:DS.attr("string"),fromDate:DS.attr("date"),toDate:DS.attr("date"),intro:DS.attr("string"),sortIndex:DS.attr("number"),cover:DS.attr("string"),largeImg:DS.attr("string")}),EF.Training=DS.Model.extend({name:DS.attr("string"),content:DS.attr("string"),intro:DS.attr("string")}),EF.PagesPageController=Ember.ObjectController.extend({modelObserver:function(){if(this.get("model")){var a=$("html, body");a.animate({scrollTop:450},"500","swing",function(){})}}.observes("model")}),EF.PagesPageRoute=Ember.Route.extend(EF.ResetScroll,{setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/pages/"+b.get("id")),document.title=b.get("title")+" - Haagen Software"}}),EF.PagesRoute=Ember.Route.extend(EF.ResetScroll,{}),EF.ProductsProductController=Ember.ObjectController.extend({modelObserver:function(){if(this.get("model")){var a=$("html, body");a.animate({scrollTop:450},"500","swing",function(){})}}.observes("model")}),EF.ProductsProductRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/products/"+b.get("id")),document.title=b.get("name")-" Haagen Software"}}),EF.ProductsController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),EF.ProductsIndexController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),EF.ProductsRoute=Ember.Route.extend(EF.ResetScroll,{model:function(){return this.store.find("product")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/products/"+b.get("id")),document.title="Products -  Haagen Software"}}),EF.ProjectsProjectController=Ember.ObjectController.extend({modelObserver:function(){if(this.get("model")){var a=$("html, body");a.animate({scrollTop:450},"500","swing",function(){})}}.observes("model")}),EF.ProjectsProjectRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/projects/"+b.get("id")),document.title=b.get("name")-" Haagen Software"}}),EF.ProjectsRoute=Ember.Route.extend(EF.ResetScroll,{model:function(){return this.store.find("project")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/projects/"),document.title="Projects -  Haagen Software"}}),EF.ProjectsController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),EF.ProjectsIndexController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),EF.Router=Ember.Router.extend({location:"history"}),EF.Router.map(function(){this.resource("projects",{path:"/projects"},function(){this.route("project",{path:"/:project_id"})}),this.resource("pages",{path:"/pages"},function(){this.route("page",{path:"/:page_id"})}),this.resource("trainings",{path:"/trainings"},function(){this.route("training",{path:"/:training_id"})}),this.resource("products",{path:"/products"},function(){this.route("product",{path:"/:product_id"})}),this.resource("blog",{path:"/blog"},function(){this.route("post",{path:"/post/:post_id"})})}),EF.RawTransform=DS.Transform.extend({deserialize:function(a){return a},serialize:function(a){return a}}),EF.TrainingsTrainingRoute=Ember.Route.extend(EF.ResetScroll,{model:function(a){return this.store.find("training",a.training_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/trainings/"+b.get("id")),document.title=b.get("name")-" Haagen Software"}}),EF.TrainingsRoute=Ember.Route.extend(EF.ResetScroll,{model:function(){return this.store.find("training")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/trainings"),document.title="Trainings -  Haagen Software"}});